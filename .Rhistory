zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3,
showgrid = FALSE)
margin = list(t = 100)
#valence/energy for sad bops
muna_plot <- plot_ly(sadtracks) %>%
add_trace(x = ~gloom_index/max(gloom_index), y = ~energy, color = ~album_name, type = 'scatter',
mode = 'markers', hoverinfo = 'text',
text = paste("Track: ", sadtracks$trackname,
"<br>Album: ", sadtracks$album_name,
"<br>Gloom Index: ", round(sadtracks$gloom_index, 3),
"<br>Energy: ", sadtracks$energy,
"<br>Sad Bop Index: ", round(sadtracks$dist, 3)
),
colors = c("#DFB1AD", "#8BB7CF"), marker = list(size = 10)) %>%
layout( showlegend = TRUE, legend = list(orientation = 'h'),
title = "<b>MUNA's Catalog of Sad Bops</b>", titlefont = list(family = 'PT Sans Narrow', size = 25),
xaxis = list(title = "<b>Sad</b>", range = c(0, 1.1),
titlefont = list(family = "PT Sans Narrow", size = 18),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3,
showgrid = FALSE),
yaxis = list(title = "<b>Bop</b>", range = c(0, 1.1),
titlefont = list(family = "PT Sans Narrow", size = 18),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3,
showgrid = FALSE),
margin = list(t = 100)
)
muna_plot
api_create(muna_plot, filename = "Muna_catalog")
#valence/energy for sad bops
muna_plot <- plot_ly(sadtracks) %>%
add_trace(x = ~gloom_index/max(gloom_index), y = ~energy, color = ~album_name, type = 'scatter',
mode = 'markers', hoverinfo = 'text',
text = paste("Track: ", sadtracks$trackname,
"<br>Album: ", sadtracks$album_name,
"<br>Gloom Index: ", round(sadtracks$gloom_index, 3),
"<br>Energy: ", sadtracks$energy,
"<br>Sad Bop Index: ", round(sadtracks$dist, 3)
),
colors = c("#DFB1AD", "#8BB7CF"), marker = list(size = 10)) %>%
layout( showlegend = TRUE, legend = list(orientation = 'h', family = "PT Sans Narrow", size = 12),
title = "<b>MUNA's Catalog of Sad Bops</b>", titlefont = list(family = 'PT Sans Narrow', size = 25),
xaxis = list(title = "<b>Sad</b>", range = c(0, 1.1),
titlefont = list(family = "PT Sans Narrow", size = 18),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3,
showgrid = FALSE),
yaxis = list(title = "<b>Bop</b>", range = c(0, 1.1),
titlefont = list(family = "PT Sans Narrow", size = 18),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3,
showgrid = FALSE),
margin = list(t = 80, b = 50)
)
muna_plot
#valence/energy for sad bops
muna_plot <- plot_ly(sadtracks) %>%
add_trace(x = ~gloom_index/max(gloom_index), y = ~energy, color = ~album_name, type = 'scatter',
mode = 'markers', hoverinfo = 'text',
text = paste("Track: ", sadtracks$trackname,
"<br>Album: ", sadtracks$album_name,
"<br>Gloom Index: ", round(sadtracks$gloom_index, 3),
"<br>Energy: ", sadtracks$energy,
"<br>Sad Bop Index: ", round(sadtracks$dist, 3)
),
colors = c("#DFB1AD", "#8BB7CF"), marker = list(size = 10)) %>%
layout( showlegend = TRUE, legend = list(orientation = 'h', family = "PT Sans Narrow", size = 12),
title = "<b>MUNA's Catalog of Sad Bops</b>", titlefont = list(size = 25),
xaxis = list(title = "<b>Sad</b>", range = c(0, 1.1),
titlefont = list(family = "PT Sans Narrow", size = 18),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3,
showgrid = FALSE),
yaxis = list(title = "<b>Bop</b>", range = c(0, 1.1),
titlefont = list(family = "PT Sans Narrow", size = 18),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3,
showgrid = FALSE),
margin = list(t = 80, b = 50)
)
api_create(muna_plot, filename = "Muna_catalog")
#valence/energy for sad bops
muna_plot <- plot_ly(sadtracks) %>%
add_trace(x = ~gloom_index/max(gloom_index), y = ~energy, color = ~album_name, type = 'scatter',
mode = 'markers', hoverinfo = 'text',
text = paste("Track: ", sadtracks$trackname,
"<br>Album: ", sadtracks$album_name,
"<br>Gloom Index: ", round(sadtracks$gloom_index, 3),
"<br>Energy: ", sadtracks$energy,
"<br>Sad Bop Index: ", round(sadtracks$dist, 3)
),
colors = c("#DFB1AD", "#8BB7CF"), marker = list(size = 10)) %>%
layout( showlegend = TRUE, legend = list(orientation = 'v', family = "PT Sans Narrow", size = 12),
title = "<b>MUNA's Catalog of Sad Bops</b>", titlefont = list(size = 25),
xaxis = list(title = "<b>Sad</b>", range = c(0, 1.1),
titlefont = list(family = "PT Sans Narrow", size = 18),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3,
showgrid = FALSE),
yaxis = list(title = "<b>Bop</b>", range = c(0, 1.1),
titlefont = list(family = "PT Sans Narrow", size = 18),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3,
showgrid = FALSE),
margin = list(t = 80, b = 50)
)
muna_plot
muna_plot
#valence/energy for sad bops
muna_plot <- plot_ly(sadtracks) %>%
add_trace(x = ~gloom_index/max(gloom_index), y = ~energy, color = ~album_name, type = 'scatter',
mode = 'markers', hoverinfo = 'text',
text = paste("Track: ", sadtracks$trackname,
"<br>Album: ", sadtracks$album_name,
"<br>Gloom Index: ", round(sadtracks$gloom_index, 3),
"<br>Energy: ", sadtracks$energy,
"<br>Sad Bop Index: ", round(sadtracks$dist, 3)
),
colors = c("#DFB1AD", "#8BB7CF"), marker = list(size = 10)) %>%
layout( showlegend = TRUE, legend = list(orientation = 'h',  size = 12),
title = "<b>MUNA's Catalog of Sad Bops</b>", titlefont = list(size = 25,family = "PT Sans Narrow"),
xaxis = list(title = "<b>Sad</b>", range = c(0, 1.1),
titlefont = list(family = "PT Sans Narrow", size = 18),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3,
showgrid = FALSE),
yaxis = list(title = "<b>Bop</b>", range = c(0, 1.1),
titlefont = list(family = "PT Sans Narrow", size = 18),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3,
showgrid = FALSE),
margin = list(t = 80, b = 50)
)
muna_plot
print(cleansadbops %>% arrange(desc(dist)))
sadtracks %>%
select(gloom_index, dist, trackname) %>%
arrange(desc(dist)) %>%
head(10)
print(cleansadbops %>% arrange(desc(gloom_index)))
dist
print(cleansadbops %>% arrange(desc(dist)))
plot_ly(cleansadbops) %>%
add_trace(cleansadbops[c(1:72),], x = ~gloom_index/max(gloom_index), y = ~energy, type = 'scatter',
mode = 'markers', hoverinfo = 'text', color = ~color, colors = c("#A5A2A2", "#DFB1AD"),
text = paste("Track: ", cleansadbops$song_name,
"<br>Artist: ", cleansadbops$artist_name,
"<br>Gloom Index: ", round(cleansadbops$gloom_index, 3),
"<br>Energy: ", cleansadbops$energy,
"<br>Sad Bop Index: ", round(cleansadbops$dist, 3)
),
marker = list(size = 10)) %>%
# add_trace(x = c(0:2), y = 0.5, type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
#   add_trace(x = 0.5, y = c(0:2), type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
layout( showlegend = FALSE, title = "Sad Bops", titlefont = list(size = 25,family = "PT Sans Narrow"),
xaxis = list(title = "<b>Sad</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
yaxis = list(title = "<b>Bop<b/>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE)
)
plot_ly(cleansadbops) %>%
add_trace(cleansadbops[c(1:72),], x = ~gloom_index/max(gloom_index), y = ~energy, type = 'scatter',
mode = 'markers', hoverinfo = 'text', color = ~color, colors = c("#A5A2A2", "#DFB1AD"),
text = paste("Track: ", cleansadbops$song_name,
"<br>Artist: ", cleansadbops$artist_name,
"<br>Gloom Index: ", round(cleansadbops$gloom_index, 3),
"<br>Energy: ", cleansadbops$energy,
"<br>Sad Bop Index: ", round(cleansadbops$dist, 3)
),
marker = list(size = 10)) %>%
# add_trace(x = c(0:2), y = 0.5, type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
#   add_trace(x = 0.5, y = c(0:2), type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
layout( showlegend = FALSE, title = "<b>Sad Bops</b>", titlefont = list(size = 25,family = "PT Sans Narrow"),
xaxis = list(title = "<b>Sad</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
yaxis = list(title = "<b>Bop</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE)
)
plot_ly(cleansadbops) %>%
add_trace(cleansadbops[c(1:72),], x = ~gloom_index/max(gloom_index), y = ~energy, type = 'scatter',
mode = 'markers', hoverinfo = 'text', color = ~color, colors = c("#A5A2A2", "#DFB1AD"),
text = paste("Track: ", cleansadbops$song_name,
"<br>Artist: ", cleansadbops$artist_name,
"<br>Gloom Index: ", round(cleansadbops$gloom_index, 3),
"<br>Energy: ", cleansadbops$energy,
"<br>Sad Bop Index: ", round(cleansadbops$dist, 3)
),
marker = list(size = 10)) %>%
# add_trace(x = c(0:2), y = 0.5, type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
#   add_trace(x = 0.5, y = c(0:2), type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
layout( showlegend = FALSE, title = "<b>Sad Bops</b>", titlefont = list(size = 25,family = "PT Sans Narrow"),
xaxis = list(title = "<b>Sad</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
yaxis = list(title = "<b>Bop</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
margin = list(t = 80, b = 50)
)
sadbopsent <- sadbopwords %>%
left_join(nrc, by = 'word') %>%
anti_join(stop_words, by = 'word') %>%
count(song_name, sentiment, name = 'tally') %>%
group_by(song_name) %>%
mutate(pct = tally/sum(tally)) %>%
filter(sentiment == "sadness")
View(sadbopsent)
sadbopsent <- sadbopwords %>%
left_join(nrc, by = 'word')
sadbopsent %>% filter(song_name == "Crash")
View(sadbopsent %>% filter(song_name == "Crash"))
sadbopsent <- sadbopwords %>%
left_join(nrc, by = 'word') %>%
anti_join(stop_words, by = 'word') %>%
count(song_name, sentiment, name = 'tally') %>%
group_by(song_name) %>%
mutate(pct = tally/sum(tally)) %>%
filter(sentiment == "sadness") %>%
right_join(tracks, by = 'song_name') %>%
bind_cols(sadbops) %>%
filter(!is.na(sentiment)) %>%
mutate(lyrical_density = (wordcount / track.duration_ms) * 1000,
gloom_index = ((1 - valence) + (pct*(1+lyrical_density))) / 2) %>%
mutate(dist = sqrt((energy)^2 + (gloom_index/max(sadbopsent$gloom_index))^2))
sadbopsent <- sadbopwords %>%
left_join(nrc, by = 'word') %>%
anti_join(stop_words, by = 'word') %>%
count(song_name, sentiment, name = 'tally') %>%
group_by(song_name) %>%
mutate(pct = tally/sum(tally)) %>%
filter(sentiment == "sadness") %>%
right_join(tracks, by = 'song_name') %>%
bind_cols(sadbops) %>%
filter(!is.na(sentiment)) %>%
mutate(lyrical_density = (wordcount / track.duration_ms) * 1000,
gloom_index = ((1 - valence) + (pct*(1+lyrical_density))) / 2) %>%
mutate(dist = sqrt((energy)^2 + (gloom_index/max(sadbopsent$gloom_index))^2))
print(cleansadbops %>% arrange(desc(dist)))
View(filter(track_sent, trackname = "Never"))
View(filter(track_sent, trackname == "Never"))
track_sent <- lyrics %>%
anti_join(stop_words, by = 'word') %>%
left_join(nrc, by = 'word')
View(filter(track_sent, trackname == "Never"))
View(filter(track_sent, trackname == "Taken"))
write_csv(cleansadbops, "~cleansadbops.csv")
cleansadbops %>% arrange(desc(dist))
write_csv(sadtracks, "~cleansadbops.csv")
write_csv(sadtracks, "~munasadbops.csv")
write_csv(cleansadmuna, "~munasadbops.csv")
write_csv(sadtracks %>%
select(trackname, artist, album, dist), "munasadbops.csv")
sadtracks %>%  select(trackname, lyrical_density) %>% arrange(desc(lyrical_density))
#valence/energy for sad bops
muna_plot <- plot_ly(sadtracks) %>%
add_trace(x = ~gloom_index/max(gloom_index), y = ~energy, color = ~album_name, type = 'scatter',
mode = 'markers', hoverinfo = 'text',
text = paste("Track: ", sadtracks$trackname,
"<br>Album: ", sadtracks$album_name,
"<br>Gloom Index: ", round(sadtracks$gloom_index, 3),
"<br>Energy: ", sadtracks$energy,
"<br>Sad Bop Index: ", round(sadtracks$dist, 3)
),
colors = c("#DFB1AD", "#8BB7CF"), marker = list(size = 10)) %>%
layout( showlegend = TRUE, legend = list(orientation = 'h',  size = 12),
title = "<b>MUNA's Catalog of Sad Bops <br> by Album</b>",
titlefont = list(size = 25,family = "PT Sans Narrow"),
xaxis = list(title = "<b>Sad (norm. gloom index)</b>", range = c(0, 1.1),
titlefont = list(family = "PT Sans Narrow", size = 18),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3,
showgrid = FALSE),
yaxis = list(title = "<b>Bop (energy)</b>", range = c(0, 1.1),
titlefont = list(family = "PT Sans Narrow", size = 18),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3,
showgrid = FALSE),
margin = list(t = 80, b = 50)
)
muna_plot
#valence/energy for sad bops
muna_plot <- plot_ly(sadtracks) %>%
add_trace(x = ~gloom_index/max(gloom_index), y = ~energy, color = ~album_name, type = 'scatter',
mode = 'markers', hoverinfo = 'text',
text = paste("Track: ", sadtracks$trackname,
"<br>Album: ", sadtracks$album_name,
"<br>Gloom Index: ", round(sadtracks$gloom_index, 3),
"<br>Energy: ", sadtracks$energy,
"<br>Sad Bop Index: ", round(sadtracks$dist, 3)
),
colors = c("#DFB1AD", "#8BB7CF"), marker = list(size = 10)) %>%
layout( showlegend = TRUE, legend = list(orientation = 'v',  size = 12),
title = "<b>MUNA's Catalog of Sad Bops <br> by Album</b>",
titlefont = list(size = 25,family = "PT Sans Narrow"),
xaxis = list(title = "<b>Sad (norm. gloom index)</b>", range = c(0, 1.1),
titlefont = list(family = "PT Sans Narrow", size = 18),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3,
showgrid = FALSE),
yaxis = list(title = "<b>Bop (energy)</b>", range = c(0, 1.1),
titlefont = list(family = "PT Sans Narrow", size = 18),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3,
showgrid = FALSE),
margin = list(t = 80, b = 50)
)
muna_plot
api_create(muna_plot, filename = "Muna_catalog")
plot_ly(cleansadbops) %>%
add_trace(cleansadbops[c(1:72),], x = ~gloom_index/max(gloom_index), y = ~energy, type = 'scatter',
mode = 'markers', hoverinfo = 'text', color = ~color, colors = c("#A5A2A2", "#DFB1AD"),
text = paste("Track: ", cleansadbops$song_name,
"<br>Artist: ", cleansadbops$artist_name,
"<br>Gloom Index: ", round(cleansadbops$gloom_index, 3),
"<br>Energy: ", cleansadbops$energy,
"<br>Sad Bop Index: ", round(cleansadbops$dist, 3)
),
marker = list(size = 10)) %>%
# add_trace(x = c(0:2), y = 0.5, type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
#   add_trace(x = 0.5, y = c(0:2), type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
layout( showlegend = FALSE, title = "<b>Sad Bops</b>", titlefont = list(size = 25,family = "PT Sans Narrow"),
xaxis = list(title = "<b>Sad</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
yaxis = list(title = "<b>Bop</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
margin = list(t = 80, b = 50)
)
print(cleansadbops %>% arrange(desc(dist)))
print(cleansadbops %>% arrange(desc(dist)))
print(cleansadbops %>% select(song_name, artist_name, dist) %>% arrange(desc(dist)))
sadbop_plot <- plot_ly(cleansadbops) %>%
add_trace(cleansadbops[c(1:72),], x = ~gloom_index/max(gloom_index), y = ~energy, type = 'scatter',
mode = 'markers', hoverinfo = 'text', color = ~color, colors = c("#A5A2A2", "#DFB1AD"),
text = paste("Track: ", cleansadbops$song_name,
"<br>Artist: ", cleansadbops$artist_name,
"<br>Gloom Index: ", round(cleansadbops$gloom_index, 3),
"<br>Energy: ", cleansadbops$energy,
"<br>Sad Bop Index: ", round(cleansadbops$dist, 3)
),
marker = list(size = 10)) %>%
# add_trace(x = c(0:2), y = 0.5, type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
#   add_trace(x = 0.5, y = c(0:2), type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
layout( showlegend = FALSE, title = "<b>Sad Bops</b>", titlefont = list(size = 25,family = "PT Sans Narrow"),
xaxis = list(title = "<b>Sad</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
yaxis = list(title = "<b>Bop</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
margin = list(t = 80, b = 50)
)
sadbop_plot
cleansadbops$color <- ifelse(cleansadbops$artist_name == "MUNA", "MUNA", "Spotify's Sad Bops")
sadbop_plot <- plot_ly(cleansadbops) %>%
add_trace(cleansadbops[c(1:72),], x = ~gloom_index/max(gloom_index), y = ~energy, type = 'scatter',
mode = 'markers', hoverinfo = 'text', color = ~color, colors = c("#A5A2A2", "#DFB1AD"),
text = paste("Track: ", cleansadbops$song_name,
"<br>Artist: ", cleansadbops$artist_name,
"<br>Gloom Index: ", round(cleansadbops$gloom_index, 3),
"<br>Energy: ", cleansadbops$energy,
"<br>Sad Bop Index: ", round(cleansadbops$dist, 3)
),
marker = list(size = 10)) %>%
# add_trace(x = c(0:2), y = 0.5, type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
#   add_trace(x = 0.5, y = c(0:2), type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
layout( showlegend = TRUE, title = "<b>Sad Bops</b>", titlefont = list(size = 25,family = "PT Sans Narrow"),
xaxis = list(title = "<b>Sad</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
yaxis = list(title = "<b>Bop</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
margin = list(t = 80, b = 50)
)
sadbop_plot
sadbop_plot <- plot_ly(cleansadbops) %>%
add_trace(cleansadbops[c(1:72),], x = ~gloom_index/max(gloom_index), y = ~energy, type = 'scatter',
mode = 'markers', hoverinfo = 'text', color = ~color, colors = c("#DFB1AD", "#A5A2A2"),
text = paste("Track: ", cleansadbops$song_name,
"<br>Artist: ", cleansadbops$artist_name,
"<br>Gloom Index: ", round(cleansadbops$gloom_index, 3),
"<br>Energy: ", cleansadbops$energy,
"<br>Sad Bop Index: ", round(cleansadbops$dist, 3)
),
marker = list(size = 10)) %>%
# add_trace(x = c(0:2), y = 0.5, type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
#   add_trace(x = 0.5, y = c(0:2), type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
layout( showlegend = TRUE, title = "<b>Sad Bops</b>", titlefont = list(size = 25,family = "PT Sans Narrow"),
xaxis = list(title = "<b>Sad</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
yaxis = list(title = "<b>Bop</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
margin = list(t = 80, b = 50)
)
sadbop_plot
sadbop_plot <- plot_ly(cleansadbops) %>%
add_trace(cleansadbops[c(1:72),], x = ~gloom_index/max(gloom_index), y = ~energy, type = 'scatter',
mode = 'markers', hoverinfo = 'text', color = ~color, colors = c("#DFB1AD", "#A5A2A2"),
text = paste("Track: ", cleansadbops$song_name,
"<br>Artist: ", cleansadbops$artist_name,
"<br>Gloom Index: ", round(cleansadbops$gloom_index, 3),
"<br>Energy: ", cleansadbops$energy,
"<br>Sad Bop Index: ", round(cleansadbops$dist, 3)
),
marker = list(size = 10)) %>%
# add_trace(x = c(0:2), y = 0.5, type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
#   add_trace(x = 0.5, y = c(0:2), type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
layout( showlegend = TRUE, title = "<b>Sad Bops</b>", titlefont = list(size = 25,family = "PT Sans Narrow"),
xaxis = list(title = "<b>Sad (norm. gloom index)</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
yaxis = list(title = "<b>Bop (energy)</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
margin = list(t = 80, b = 50)
)
sadbop_plot
sadtracks %>% select(trackname, lyrical_density, pct) %>% arrange(desc(pct))
sadtracks %>% select(trackname, lyrical_density, pct) %>% arrange(lyrical_density)
sadtracks$wordcount
sadtracks %>%  filter(trackname == "Never") %>% select(wordcount)
colnames(sadtracks$dist)
colnames(sadtracks)
colnames(sadtracks)[51]
colnames(sadtracks)[51] <- "sad bop index"
colnames(sadtracks)[51] <- "sadbop_index"
print(sadtracks %>% select(trackname, album, sadbop_index) %>%  arrange(desc(sadbop_index)))
print(cleansadbops %>% arrange(desc(dist)))
sadbop_plot <- plot_ly(cleansadbops) %>%
add_trace(cleansadbops[c(1:72),], x = ~gloom_index/max(gloom_index), y = ~energy, type = 'scatter',
mode = 'markers', hoverinfo = 'text', color = ~color, colors = c("#DFB1AD", "#A5A2A2"),
text = paste("Track: ", cleansadbops$song_name,
"<br>Artist: ", cleansadbops$artist_name,
"<br>Gloom Index: ", round(cleansadbops$gloom_index, 3),
"<br>Energy: ", cleansadbops$energy,
"<br>Sad Bop Index: ", round(cleansadbops$dist, 3)
),
marker = list(size = 10)) %>%
# add_trace(x = c(0:2), y = 0.5, type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
#   add_trace(x = 0.5, y = c(0:2), type = 'scatter', mode = 'line',
#           line = list(size = 5, color = 'black', dash = 'dash')) %>%
layout( showlegend = TRUE, title = "<b>Sad Bops</b>", titlefont = list(size = 25,family = "PT Sans Narrow"),
xaxis = list(title = "<b>Sad (norm. gloom index)</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
yaxis = list(title = "<b>Bop (energy)</b>", range = c(0,1.05), titlefont = list(size = 18,family = "PT Sans Narrow"),
zeroline = FALSE, showline = TRUE, linewidth = 3,
ticks = "outside", ticklen = 10, tickwidth = 3, dtick = 0.1,
showgrid = FALSE),
margin = list(t = 80, b = 50)
)
api_create(muna_plot, filename = "All_sadbops")
api_create(sadbop_plot, filename = "All_sadbops")
colnames(cleansadbops)
colnames(cleansadbops)[5]
colnames(cleansadbops)[5] <- sadbop_index
colnames(cleansadbops)[5] <- "sadbop_index"
print(cleansadbops %>% arrange(desc(dist)))
print(cleansadbops %>% select(trackname, artist, sadbop_index) %>% arrange(desc(sadbop_index)))
colnames(cleansadbops)[1] <- "trackname"
print(cleansadbops %>% select(trackname, artist, sadbop_index) %>% arrange(desc(sadbop_index)))
print(cleansadbops %>% select(trackname, artist_name, sadbop_index) %>% arrange(desc(sadbop_index)))
print(cleansadbops %>% ungroup() %>%  select(trackname, artist_name, sadbop_index) %>% arrange(desc(sadbop_index)))
track_sent %>%  select(word, sentiment) %>%  filter(trackname == "Never")
library(tidyverse)
track_sent %>%  select(word, sentiment) %>%  filter(trackname == "Never")
View(track_sent %>%  select(word, sentiment) %>%  filter(trackname == "Never"))
muna_plot
